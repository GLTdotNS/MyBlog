{"version":3,"file":"schema.js","names":["Preview","props","name","type","title","inputComponent","CodeInput","icon","CodeBlockIcon","fields","of","preview","select","language","code","filename","highlightedLines","prepare","value","toUpperCase","media","getMedia","extendedPreview"],"sources":["../src/schema.tsx"],"sourcesContent":["import React from 'react'\nimport {CodeBlockIcon} from '@sanity/icons'\nimport CodeInput from './CodeInput'\nimport PreviewCode, {PreviewCodeProps} from './PreviewCode'\nimport {getMedia} from './getMedia'\n\nconst Preview = (props: PreviewCodeProps) => {\n  return <PreviewCode {...props} />\n}\n\nexport default {\n  name: 'code',\n  type: 'object',\n  title: 'Code',\n  inputComponent: CodeInput,\n  icon: CodeBlockIcon,\n  fields: [\n    {\n      name: 'language',\n      title: 'Language',\n      type: 'string',\n    },\n    {\n      name: 'filename',\n      title: 'Filename',\n      type: 'string',\n    },\n    {\n      title: 'Code',\n      name: 'code',\n      type: 'text',\n    },\n    {\n      title: 'Highlighted lines',\n      name: 'highlightedLines',\n      type: 'array',\n      of: [\n        {\n          type: 'number',\n          title: 'Highlighted line',\n        },\n      ],\n    },\n  ],\n  preview: {\n    select: {\n      language: 'language',\n      code: 'code',\n      filename: 'filename',\n      highlightedLines: 'highlightedLines',\n    },\n    prepare: (value: {\n      language?: string\n      code?: string\n      filename?: string\n      highlightedLines?: number[]\n    }) => {\n      return {\n        title: value.filename || (value.language || 'unknown').toUpperCase(),\n        media: getMedia(value?.language),\n        extendedPreview: <Preview value={value} />,\n      }\n    },\n  },\n}\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AAAmC;AAEnC,IAAMA,OAAO,GAAIC,KAAuB,IAAK;EAC3C,oBAAO,6BAAC,oBAAW,EAAKA,KAAK,CAAI;AACnC,CAAC;AAAA,eAEc;EACbC,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,MAAM;EACbC,cAAc,EAAEC,kBAAS;EACzBC,IAAI,EAAEC,oBAAa;EACnBC,MAAM,EAAE,CACN;IACEP,IAAI,EAAE,UAAU;IAChBE,KAAK,EAAE,UAAU;IACjBD,IAAI,EAAE;EACR,CAAC,EACD;IACED,IAAI,EAAE,UAAU;IAChBE,KAAK,EAAE,UAAU;IACjBD,IAAI,EAAE;EACR,CAAC,EACD;IACEC,KAAK,EAAE,MAAM;IACbF,IAAI,EAAE,MAAM;IACZC,IAAI,EAAE;EACR,CAAC,EACD;IACEC,KAAK,EAAE,mBAAmB;IAC1BF,IAAI,EAAE,kBAAkB;IACxBC,IAAI,EAAE,OAAO;IACbO,EAAE,EAAE,CACF;MACEP,IAAI,EAAE,QAAQ;MACdC,KAAK,EAAE;IACT,CAAC;EAEL,CAAC,CACF;EACDO,OAAO,EAAE;IACPC,MAAM,EAAE;MACNC,QAAQ,EAAE,UAAU;MACpBC,IAAI,EAAE,MAAM;MACZC,QAAQ,EAAE,UAAU;MACpBC,gBAAgB,EAAE;IACpB,CAAC;IACDC,OAAO,EAAGC,KAKT,IAAK;MACJ,OAAO;QACLd,KAAK,EAAEc,KAAK,CAACH,QAAQ,IAAI,CAACG,KAAK,CAACL,QAAQ,IAAI,SAAS,EAAEM,WAAW,EAAE;QACpEC,KAAK,EAAE,IAAAC,kBAAQ,EAACH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEL,QAAQ,CAAC;QAChCS,eAAe,eAAE,6BAAC,OAAO;UAAC,KAAK,EAAEJ;QAAM;MACzC,CAAC;IACH;EACF;AACF,CAAC;AAAA"}